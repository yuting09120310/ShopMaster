@model IEnumerable<ShopMaster.Areas.FrontEnd.ViewModelsF.MemberOrderViewModel>

<style>

    #back {
    width: 90px;
    height: 90px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center
    }

</style>

<div class="container" style="padding-top: 140px">
    <h4 class="text-start fw-bold text-secondary  mt-4">歷史訂單</h4>

    @foreach (var i in Model)
    {

        <div class="card my-3 " style="max-width: auto;" >
            @foreach (var d in i.OrderDetail)
            {
                <div class="row g-0 justify-content-center ">           

                <div class="col-md-4 col-3" style="padding: 10px;">
                    <img src=@d.Product.MainImage class="img-fluid rounded-start d-block" alt="Responsive image" style="height:100px; width:120px">
                </div>
                <div class="col-md-8 col-9">
                    <div class="card-body d-flex justify-content-around  " style="padding-bottom: 0px;">
                            <p class="card-title col-4">@d.Product.Name</p>
                            <p class="col-4 text-center">@d.Quantity</p>
                            <p class="card-text col-4 text-end mt-2">@i.TotalAmount</p>
                        </div>
                    </div>
                    
                </div>}

            @{
                var orderId = i.OrderDetail.FirstOrDefault()?.OrderId;
            }
            <div class="row ">
                    <div class="col d-flex justify-content-end mb-3 me-3" id="">
                        <a href="@Url.Action("Details", "Order", new { area = "FrontEnd",id =i.Id, extraId = @orderId })" class="btn btn-light text-secondary  fw-bold" >訂單明細</a>
            </div>

        </div>

    </div>}



    <div class="row">

        <div class="d-grid gap-2 justify-content-center mt-4 ">
            <a href="@Url.Action("Index", "Home", new{area = "FrontEnd" })" class="btn btn-secondary fw-bold ms-3" id="back" style="color:white">回首頁</a>
        </div>

    </div>



</div>
